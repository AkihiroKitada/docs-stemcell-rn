<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      PCF Metrics Release Notes and Known Issues |
    Pivotal Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  
<script type="text/javascript">
  if (window.location.host === 'docs.pivotal.io') {
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39702075-1']);
    _gaq.push(['_setDomainName', 'pivotal.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script');
      ga.type = 'text/javascript';
      ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(ga, s);
    })();
  }
</script>

<script type="text/javascript">
  var blackList = ['acceptance'];

  blackList.forEach(function(blackListedEnv) {
    if (document.URL.indexOf(blackListedEnv) > -1 && blackListedEnv != "") {
      $('head').append('<meta name="hashtag" content="PivotalMoment">');
    }
  });
</script>

<!-- CrazyEgg Tracking Script -->
  <script type="text/javascript">
  setTimeout(function(){var a=document.createElement("script");
  var b=document.getElementsByTagName("script")[0];
  a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0055/2990.js?"+Math.floor(new Date().getTime()/3600000);
  a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>

<!-- Munchkin Marketo Script -->
<script type="text/javascript">
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
</script>

</head>

<body class="pcf-metrics pcf-metrics_1-4 pcf-metrics_1-4_rn-ki has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "pivotal.io";
    </script>

      <header class="global-header header header-layout js-bar-links">
    <a class="pivotal-logo" href="/">
    </a>
    <a href="/" class="global-header-title">
      <span class="title-deemph">Pivotal</span> Documentation
    </a>
    <div class="btn-menu" data-behavior="MenuMobile"></div>
    <div class="header-links">
      <div class="header-item">
        <a href="https://network.pivotal.io/">Downloads</a>
      </div>
      <div class="header-item">
        <a href="http://support.pivotal.io" target="_blank">Support</a>
      </div>

      <div class="header-item embedded-searchbar">
          <form method="get" action="/search">
            <input name="q" placeholder="Search PCF Metrics 1.4" class="search-box" />
              <input type="hidden" name="product_name" value="PCF Metrics" />
              <input type="hidden" name="product_version" value="1.4"/>
          </form>
      </div>
      
    </div>
  </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="js-sidenav nav-container" role="navigation">
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    <ul>
      <li>
        <a id='home-nav-link' href="/pcf-metrics/1-4/index.html">Pivotal Cloud Foundry Metrics</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/installing.html">Installing PCF Metrics</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/sizing.html">Sizing PCF Metrics for Your System</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/using.html">Monitoring and Troubleshooting Apps with PCF Metrics</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/monitoringpcfmetrics.html">Monitoring PCF Metrics</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/troubleshooting.html">Troubleshooting PCF Metrics</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/architecture.html">PCF Metrics Product Architecture</a>
      </li>

      <li>
        <a href="/pcf-metrics/1-4/rn-ki.html">Release Notes and Known Issues</a>
      </li>

    </ul>
  </div>
</div><!--end of sub-nav-->
      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
          <div class="local-header title-container">
    <div class="local-header version-info">
      LATEST VERSION: 1.4 - <a href="">CHANGELOG</a>
    </div>
    <div class="local-header local-title clearfix">
      <img src="/images/cloud_rings.png">
      <span class="local-header-title">PCF Metrics
      </span>
      <span class="local-header local-version header-dropdown">
        <a class="local-header header-dropdown-link">v1.4</a>
        <span class="local-header header-dropdown-content">
          <ul>
                <li>
                    <a href="http://docs.pivotal.io/pcf-metrics/1-3/rn-ki.html">v1.3</a>
                </li>
                <li>
                    <a href="http://docs.pivotal.io/pcf-metrics/1-2/rn-ki.html">v1.2</a>
                </li>
                <li>
                    <a href="http://docs.pivotal.io/pcf-metrics/1-1/rn-ki.html">v1.1</a>
                </li>
                <li>
                    <a href="http://docs.pivotal.io/pcf-metrics/1-0/rn-ki.html">v1.0</a>
                </li>
          </ul>
        </span>
      </span>

      <!-- search was here -->
    </div>
    <div class="local-header local-header-links">
    </div>
  </div>

          <h1 class="title-container" >
    PCF Metrics Release Notes and Known Issues
  </h1>

          <div id="js-quick-links" class="list-style-none">
            <div class="quick-links"><ul>
<li>
<a href="#142">v1.4.2</a><ul><li><a href="#notes">Notes</a></li></ul>
</li>
<li>
<a href="#140">v1.4.0</a><ul>
<li><a href="#notes">Notes</a></li>
<li><a href="#issues">Known Issues</a></li>
</ul>
</li>
<li><a href="#13x">Past Minor v1.3.x</a></li>
<li><a href="#12x">Past Minor v1.2.x</a></li>
<li><a href="#11x">Past Minor v1.1.x</a></li>
<li><a href="#10x">Past Minor v1.0.x</a></li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p>This topic contains release notes for Pivotal Cloud Foundry (PCF) Metrics.</p>

<h2><a id='142'></a>v1.4.2</h2>

<p><strong>Release Date: October 31, 2017</strong></p>

<h3><a id="notes"></a>Notes</h3>

<p>The following list describes what&rsquo;s new in PCF Metrics v1.4.2:</p>

<ul>
<li>Bug fix for metrics configurable retention window, which will ensure that if you have set the retention to &lt; 14 days, the data is correctly pruned for correct partions </li>
<li>Bug fix for delay in getting metrics from apps to PCF Metrics datastore. In 1.4.0, it was around 15 mins depending on # of apps and metrics emitted.</li>
</ul>

<h2><a id='140'></a>v1.4.0</h2>

<p><strong>Release Date: September 28, 2017</strong></p>

<h3><a id="notes"></a>Notes</h3>

<p>The following list describes what&rsquo;s new in PCF Metrics v1.4.0:</p>

<ul>
<li><strong>Custom App Metrics</strong>: PCF Metrics v1.4.0, when used along with <a href="https://docs.pivotal.io/metrics-forwarder/index.html">Metrics Forwarder</a>, supports custom app metrics. Users can configure their apps to send the metrics to PCF Metrics and view them on the PCF Metrics dashboard. <strong>Spring Boot Actuator metrics</strong> will be available on the PCF Metrics dashboard as an out-of-the-box feature for Spring Boot apps.</li>
<li><strong>Instance-Level Metrics</strong>: The PCF Metrics dashboard now enables users to view metrics for a specific app instance. Users can toggle between app instance and aggregated views and choose their preferred method of aggregation across instances.</li>
<li><strong>Improved UI</strong>: PCF Metrics v1.4.0 introduces major UI enhancements of the metrics dashboard, including interactive features such as adding, deleting, reordering, and expanding charts, to support custom metrics and optimize readability.</li>
<li><strong>Improved Tile Configuration UX and VM Footprint Reduction</strong>: The following changes have been made to the PCF Metrics tile configuration:

<ul>
<li>Users can configure the number of Metrics API instances under the <strong>Metrics Components Config</strong> section.</li>
<li>MySQL VM footprint has been reduced by switching from a Galera cluster to a single-node MySQL. The number of MySQL instances is no longer configurable by the user in the <strong>Resource Config</strong> section.</li>
<li>The unused Metron job was removed from <strong>Resource Config</strong>.</li>
<li>Redis job has been added to <strong>Resource Config</strong>. You can configure the number of instances and their size. For more information on how Redis is used in PCF Metrics, see <a href="/pcf-metrics/1-4/architecture.html">PCF Metrics Product Architecture</a>.</li>
</ul></li>
</ul>

<h3><a id="issues"></a>Known Issues</h3>

<p>The following sections describe the known issues in PCF Metrics v1.4.0.</p>

<h4>Compatibility with Elastic Runtime</h4>

<p>PCF Metrics v1.4.x requires Elastic Runtime v1.11.0 or later.</p>

<h4>Using Custom App Metrics</h4>

<p>To use custom app metrics in PCF Metrics, you must install the Metrics Forwarder tile and bind your apps to the Metrics Forwarder service. You can use PCF Metrics without Metrics Forwarder, but you will be able to view only default container metrics, network metrics, and app events.</p>

<h4>Delay in Ingesting Metrics</h4>

<p>To prevent metrics data backup in Redis, ensure that each app does not emit more than 400 metrics per minute. For deployments with a high number of apps, you may still experience a delay of up to 1-2 hours before metrics data appears on the dashboard. </p>

<h4>Smoke Test Failures Due to Elasticsearch</h4>

<p>The PCF Metrics <strong>Smoke Test</strong> errand may fail if you have significant amount of log data stored in Elasticsearch and you perform one of the following actions:</p>

<ul>
<li>Upgrade from v1.3.x to v1.4.x</li>
<li>Scale the number of Elasticsearch Master or Data instances</li>
</ul>

<p>This happens because Elasticsearch may require up to 24 hours to re-allocate shards. During this time, you will not see any logs in the UI. However, no logs are lost. If you experience this issue, wait until your <a href="https://www.elastic.co/guide/en/elasticsearch/reference/2.2/_cluster_health.html">Elasticsearch cluster is healthy/green</a>. Smoke tests should pass once you re-run the PCF Metrics install.</p>

<h4>Smoke Test Failures Due to User Authentication</h4>

<p>The PCF Metrics <strong>Smoke Test</strong> errand may fail if your deployment authenticates user sign-ons
with an external SAML identity provider or an external LDAP server.
In some cases, these external user stores have an additional login procedure that prevents the errand
from authenticating with the deployment and validating against the Metrics API.</p>

<p>If you experience this issue, disable the <strong>Smoke Test</strong> errand in the PCF Metrics tile and click <strong>Apply Changes</strong> to run the install again.</p>

<p>For more information about what configurations lead to this failure,
see <a href="http://docs.pivotal.io/pivotalcf/customizing/config-er-vmware.html#er-auth-config">Configure Authentication and Enterprise SSO</a> in <em>Configuring Elastic Runtime</em>.</p>

<h4>For Operators Who Deploy PCF Metrics Using BOSH</h4>

<p>If both of the following are true, you might experience issues while using PCF Metrics:</p>

<ul>
<li>You deploy PCF Metrics using BOSH instead of using the PCF Metrics tile in Ops Manager.</li>
<li>You use self-signed certificates.</li>
</ul>

<p>Pivotal recommends using certificates issued by a Certificate Authority for BOSH deployments of this product.</p>

<h2><a id="13x"></a>Past Minor v1.3.x</h2>

<p>Release Notes for v1.3.x releases can be found <a href="http://docs.pivotal.io/pcf-metrics/1-3/rn-ki.html">here</a>.</p>

<h2><a id="12x"></a>Past Minor v1.2.x</h2>

<p>Release Notes for v1.2.x releases can be found <a href="http://docs.pivotal.io/pcf-metrics/1-2/rn-ki.html">here</a>.</p>

<h2><a id="11x"></a>Past Minor v1.1.x</h2>

<p>Release Notes for v1.1.x releases can be found <a href="http://docs.pivotal.io/pcf-metrics/1-1/rn-ki.html">here</a>.</p>

<h2><a id="10x"></a>Past Minor v1.0.x</h2>

<p>Release Notes for v1.0.x releases can be found <a href="http://docs.pivotal.io/pcf-metrics/1-0/rn-ki.html">here</a>.</p>

        <div><a id='repo-link' href='http://github.com/pivotal-cf/docs-metrics/tree/1.4/rn-ki.html.md.erb'>View the source for this page in GitHub</a></div>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='https://pivotal.io/privacy-policy'>Privacy Policy</a> | 
  <a href='https://pivotal.io/terms-of-use'>Terms of Use</a><br/>
  <a href='/'>Pivotal Documentation</a>
  &copy; 2017 <a href='https://pivotal.io'>Pivotal Software</a>, Inc. All Rights Reserved.
</div>
<div class="support">
  Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
</div>

  </footer>
</div><!--end of container-->

</body>
</html>
